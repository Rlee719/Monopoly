# 接口与用例的统一 v1.4

制定人：**李勉、张志宇、刘羿**

如有任何疑义，请联系以上人员。

## 1. debug命令

```python
reset							   	#重置所有信息：地图复原，玩家资产复原，位置复原
preset players [QASJ]       		#预置参与游戏的玩家
preset where [QASJ] [0~69]			#设置某玩家的绝对位置
preset points [QASJ] [0~50]			#设置某玩家的点数
preset fond [QASJ] [1000~50000]		#设置某玩家的资金
preset block [QASJ] [0~10]			#设置某玩家拥有n个路障
preset bomb [QASJ] [0~10]			#设置某玩家拥有n个炸弹
preset robot [QASJ] [0~10]			#设置某玩家拥有n个机器人
preset loc [0~69] [QASJ] [0~3]		#设置位处loc的level级别的地皮归属player
preset clear [0~69]					#设置位处loc的为空地皮
preset presion [QASJ] [0~2]			#设置某玩家在监狱待n天
preset bless [QASJ] [0~5]			#设置某玩家财神赐福n天
preset hospital [QASJ] [0~3]		#设置某玩家在医院待n天
preset nextplayer [QASJ]			#设置立即跳转到某玩家的回合
preset bomb_or_not [0~69]			#切换某位置炸弹状态，如果当前为有炸弹，执行命令后变成没有炸弹，反之则反
preset block_or_not [0~69]			#切换某位置路障状态，功能与上条类似
step n								#设置本回合玩家投出的骰子点数为n
```



## 2. dump文件格式

注意dump输出为文本，格式按照以下示例输出，请忽略其中的注释信息

```python
bomb_locs:0,13,26           # 表示地图上这些位置放置有炸弹
block_locs:0,13             # 表示地图上这些位置放置有炸弹

id:1
symbol:Q
loc:12					#玩家的绝对位置，loc from 0 to 69
points:50
fund:6000
block:1
bomb:0
robot:0
house_level_0:
house_level_1:3,6,8		#该玩家拥有等级为1的地皮位置序列
house_level_2:
house_level_3:			#deault None
prision_cnt:1			#在监狱剩余天,default 0
bless_cnt:3				#财神剩余天数,default 0
hospital_cnt:0			#医院剩余天数,default 0

id:2
symbol:A
loc:23
points:50
fund:6000
block:1
bomb:0
robot:0
house_level_0:
house_level_1:3,6,8
house_level_2:
house_level_3:
prision_cnt:1
bless_cnt:3
hospital_cnt:0

#...可能的更多为玩家，按照示例输出
#请忽略所有注释
```

Notes:

- id和symbol不是绑定的，比如第一个玩家也可以不选择钱夫人，而选择阿土仔。但是symbol和颜色是绑定的。绑定详情清查看需求文档。



## 3. 其他标准

### 地图索引标准

我们以起始点为索引0处位置，按照行走顺序将索引递增。索引上限为69。

![1568369532414](./1568369532414.png)



### 复位标准

在执行reset命令之后，保证你的游戏状态和以下dump一致。

其中初始fund为10000，初始points为200。

```python
bombs:
blocks:

id:1
symbol:Q				#假设第一个玩家选择了钱夫人
loc:0					#玩家的绝对位置，loc from 0 to 69
points:200
fund:10000
block:0
bomb:0
robot:0
house_level_0
house_level_1:		
house_level_2:
house_level_3:	
prision_cnt:0
bless_cnt:0				
hospital_cnt:0

id:2
symbol:A
loc:0
points:200
fund:10000
block:0
bomb:0
robot:0
house_level_0
house_level_1:
house_level_2:
house_level_3:
prision_cnt:0
bless_cnt:0
hospital_cnt:0

#...可能的更多为玩家，按照示例输出
#请忽略所有注释
```



### 测试用例标准

事实上，每个组可以用不同的测试方法，不同的测试用例，但是**请保证大富翁程序和测试方法符合以上标准**，这样我们才能最终共享所有测试用例。这样我们就容许了测试方法的多样性，同时又保证了达到共享测试的要求。



## Changelog

- V1.1~V1.3
  - 修改typo "fond" --> "fund"
  - 新增在地面的炸弹、路障位置的dump信息
  - 新增炸弹、路障设置指令
  - 添加“地图索引标准”栏
  - 添加”复位标准“栏
  - 绑定颜色和symbol，移除dump中的color信息
  - 添加“测试用例标准”栏

- V1.4
  - 添加`house_level_0`到dump文件格式



